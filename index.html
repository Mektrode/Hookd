<html>
  <head>
    <title>Combo Play Ground</title>
    <meta charset="UTF-8" />
  </head>

  <body>
    <center>
      <h1>Don't touch that Million</h1>
      <button onclick="start()">Start</button>
      <button onclick="close()">I Give Up!!!</button>
      <div id="game" style="visibility:hidden">
        <p>Your Target is to get: <span id="target"></span></p>
        <button onclick="reset()">Reset Your Progress</button>
        <div id="currentnumber"></div>
        <br />
        <button onclick="switchLogic(sqroot)">Square Root</button>
        <button onclick="switchLogic(half)">Half</button>
        <button onclick="switchLogic(subtract)">-</button>
        <button onclick="switchLogic(add)">+</button>
        <button onclick="switchLogic(double)">Double</button>
        <button onclick="switchLogic(sqr)">Square</button>

        <!--
          Timer Span
          <p>
            Yoo've been trying for
            <span id="timer" style="font-weight:bold">1234</span>'s!
          </p>
        -->
        <h1 id="gameOver" style="visibility:hidden">!!!!GAME OVER!!!!</h1>
      </div>
    </center>
  </body>
</html>

<style></style>

<!--
  Todo:-
  => Have a timeline ticker that balances in the middle
  => Game over if reaches 1 million (add switch case)
  => Cut out decimal places (round to nearest int)
  => Add Timer Mode
  => Add Multiplayer face 2 face
  => Design the screens
  => Implement the CSS
-->

<script>
  var limitReached = false; //make reactive
  var currentnum = 0;

  function getRandomNum(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min)) + min; //The maximum is exclusive and the minimum is inclusive
  }

  function rndtoInt(rndNum) {
    return Math.round(rndNum);
  }

  var showPanel = function() {
    document.getElementById("game").style.visibility = "visible";
  };

  var start = function() {
    newTarget = getRandomNum(2, 999999);
    document.getElementById("target").innerHTML = newTarget;
    //Show user's current number
    document.getElementById("currentnumber").innerHTML = currentnum;

    //Show Game Panel
    showPanel();
  };

  var gameOverFunc = function() {
    document.getElementById("gameOver").style.visibility = "visible";
  };

  var reset = function() {
    currentnum = 0;
    document.getElementById("currentnumber").innerHTML = currentnum;
  };

  var end = function() {
    document.getElementById("game").style.visibility = "hidden";
  };

  var close = function() {
    reset();
  };

  var checkNumber = function(latestNum) {
    if (latestNum > 1000000) {
      gameOverFunc();
    } else {
      console.log("your number is " + latestNum);
      roundednum = rndtoInt(latestNum);
      console.log("rounded is " + roundednum);
      document.getElementById("currentnumber").innerHTML = roundednum;
    }
  };

  var switchLogic = function(one) {
    switch (one) {
      case "subtract":
        currentnum--;
        checkNumber(currentnum);
        break;
      case "add":
        currentnum++;
        checkNumber(currentnum);
        break;
      case "double":
        currentnum = currentnum * 2;
        checkNumber(currentnum);
        break;
      case "half":
        currentnum = currentnum / 2;
        checkNumber(currentnum);
        break;
      case "sqr":
        currentnum = Math.pow(currentnum, 2);
        checkNumber(currentnum);
        break;
      case "sqroot":
        currentnum = Math.pow(currentnum, 1 / 2);
        checkNumber(currentnum);
        break;
      default:
        console.log("Error!!!");
    }
  };
</script>
